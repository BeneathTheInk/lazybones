<!DOCTYPE html>

<html>
<head>
  <title>Lazybones</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" media="all" href="public/main.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="index.html">
                  README.md
                </a>
              
                
                <a class="source" href="lazybones.html">
                  lazybones.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap for-h1">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1>Lazybones</h1>
<p>A custom Backbone sync method for PouchDB, with support for views and changes. This is very similar to <a href="https://github.com/jo/backbone-pouch">backbone-pouch</a> but is slightly more dynamic and up-to-date for the latest PouchDB API.</p><h2>Install</h2>
<p>Download the latest version from our <a href="https://github.com/BeneathTheInk/lazybones/releases">release page</a> and use via a script tag. The variable <code>Lazybones</code> will be attached to <code>window</code>.</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"lazybones.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>If using Browserify or Node.js, you can install via NPM and use via <code>require(&quot;lazybones&quot;)</code>.</p><pre><code class="lang-shell">$ npm install lazybones
</code></pre>
<h2>Basic Usage</h2>
<h3>Method 1: PouchDB Plugin</h3>
<p>If you want to generate a sync function with the Pouch database already attached, use the built in plugin interface. <code>db.lazybones()</code> will produce a sync function that uses <code>db</code> to fetch data.</p><pre><code class="lang-js">PouchDB.plugin(Lazybones({
    <span class="hljs-comment">// global options</span>
}));

<span class="hljs-comment">// later</span>
<span class="hljs-keyword">var</span> db = <span class="hljs-keyword">new</span> PouchDB(<span class="hljs-string">"mydb"</span>);
Backbone.Model.extend({
    sync: db.lazybones()
});
</code></pre>
<h3>Method 2: Generic sync</h3>
<p>The simplest method is to use the raw sync method directly. You will need to reference the Pouch database through the model.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> db = <span class="hljs-keyword">new</span> PouchDB(<span class="hljs-string">"mydb"</span>);
Backbone.Model.extend({
    sync: Lazybones.sync,
    pouchdb: db,
    syncOptions: {
        <span class="hljs-comment">// options specific to this model</span>
    }
});
</code></pre>
<h2>Documentation</h2>
<p>We have <a href="http://beneaththeink.github.io/lazybones/lazybones.html">pretty HTML docs</a> with inline source code hosted on Github Pages. This documentation is generated from block-level comments in the code using <a href="https://github.com/BeneathTheInk/doxxo">Doxxo</a>, so you can also build them locally.</p><pre><code class="lang-bash">npm run build-docs
</code></pre>
<h2>How to Build from Scratch</h2>
<p>Lazybones uses Grunt to build a Browserify bundle from the original source found in <code>lib/</code>. When the command below completes, the compiled source will be saved to <code>dist/</code> directory.</p><pre><code class="lang-bash">npm install &amp;&amp; npm run build-js
</code></pre>
<h2>Running the Unit Tests</h2>
<p>Lazybones has several unit tests written for Node.js and the browser. Before running tests, install all test dependencies:</p><pre><code>npm install
</code></pre><p>To get tests running on Node.js, run:</p><pre><code>npm test
</code></pre><p>To run tests in the browser, start a test server with this command. When the server is running, navigate your browser to <a href="http://localhost:8000">http://localhost:8000</a>.</p><pre><code>npm run dev
</code></pre>
            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
